<mvc:View
    controllerName="soheader.controller.View1"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:form="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    displayBlock="true">

    <!-- Main Page -->
    <Page id="mainPage" title="{i18n>title}" showNavButton="false">
        <content>
            <Panel headerText="Billing Document Check"
                   expandable="false"
                   class="sapUiResponsiveMargin sapUiNoContentPadding"
                   headerToolbar="false">
                <form:SimpleForm
                    editable="true"
                    labelSpanL="3"
                    labelSpanM="3"
                    columnsL="2"
                    columnsM="2"
                    layout="ResponsiveGridLayout">

                    <Label text="Billing Document"/>
                    <!-- only the input with F4 remains (no extra Check button) -->
                    <Input
                        id="billingDocInput"
                        value="{view>/billingDocument}"
                        placeholder="Enter Billing Document ID"
                        width="260px"
                        showSuggestion="true"
                        showValueHelp="true"
                        submit="onCheckBillingDocument"
                        liveChange="onBillingDocLiveChange"
                        valueHelpRequest="onBillingDocValueHelp"
                        suggestionItems="{view>/suggestedBillingDocs}">
                        <core:Item text="{view>BillingDocument}" />
                    </Input>

                </form:SimpleForm>
            </Panel>
        </content>
    </Page>

    <!-- Details Page -->
    <Page id="detailsPage" title="Billing Document Details" showNavButton="true" navButtonPress="onNavBack">
        <content>

            <!-- Action/Quick Buttons area (visual only) -->
            <Toolbar class="sapUiSmallMargin">
                <ToolbarSpacer/>
                <Button icon="sap-icon://display" type="Transparent" tooltip="Change"/>
                <Button icon="sap-icon://document" type="Transparent" tooltip="Document Flow"/>
                <Button icon="sap-icon://action" type="Transparent" tooltip="Status Overview"/>
                <OverflowToolbarButton icon="sap-icon://settings" type="Transparent" tooltip="More"/>
            </Toolbar>

            <!-- Header area â€” object-like read-only inputs (VA03 style) -->
            <Panel headerText="Header Details" expandable="false" class="sapUiResponsiveMargin sapUiNoContentPadding">
                <VBox renderType="Bare" class="sapUiSmallMargin">
                    <!-- Top row: left / center / right -->
                    <HBox justifyContent="SpaceBetween" width="100%" alignItems="Start">

                        <!-- Left column -->
                        <VBox width="33%">
                            <Label text="Billing Document"/>
                            <Input value="{view>/billingDocData/BillingDocument}" editable="false" width="160px" />
                            <Label text="Sold-to Party"/>
                            <Input value="{view>/billingDocData/SoldToParty}" editable="false" width="260px" />
                            <Label text="Ship-to Party"/>
                            <Input value="{view>/billingDocData/ShipToParty}" editable="false" width="260px" />
                        </VBox>

                        <!-- Center column -->
                        <VBox width="33%">
                            <Label text="Net Value"/>
                            <Input value="{view>/billingDocData/TotalNetAmount}" editable="false" width="200px" />
                            <Label text="Cust. Reference"/>
                            <Input value="{view>/billingDocData/CustomerReference}" editable="false" width="200px" />
                        </VBox>

                        <!-- Right column -->
                        <VBox width="33%">
                            <Label text="Creation Date"/>
                            <Input value="{view>/billingDocData/CreationDate}" editable="false" width="160px" />
                            <Label text="Pricing Date"/>
                            <Input value="{view>/billingDocData/PricingDate}" editable="false" width="160px" />
                            <Label text="Sales Organization"/>
                            <Input value="{view>/billingDocData/SalesOrganization}" editable="false" width="200px" />
                        </VBox>

                    </HBox>
                </VBox>
            </Panel>

            <!-- Tabbed content (Sales, Item Overview, etc.) -->
            <IconTabBar selectedKey="sales" expandable="false" class="sapUiResponsiveMargin">
                <items>
                    <IconTabFilter icon="sap-icon://sales-order" text="Sales" key="sales">
                        <!-- Sales tab content: a 2-column grid of fields (example fields) -->
                        <VBox class="sapUiSmallMargin">
                            <HBox justifyContent="SpaceBetween" width="100%">
                                <VBox width="48%">
                                    <Label text="Req. Deliv. Date"/>
                                    <Input value="{view>/billingDocData/ReqDeliveryDate}" editable="false" width="160px" />
                                    <Label text="Delivery Block"/>
                                    <Input value="{view>/billingDocData/DeliveryBlock}" editable="false" width="200px" />
                                    <Label text="Billing Block"/>
                                    <Input value="{view>/billingDocData/BillingBlock}" editable="false" width="200px" />
                                </VBox>

                                <VBox width="48%">
                                    <Label text="Deliver. Plant"/>
                                    <Input value="{view>/billingDocData/DeliverPlant}" editable="false" width="160px" />
                                    <Label text="Total Weight"/>
                                    <Input value="{view>/billingDocData/TotalWeight}" editable="false" width="200px" />
                                    <Label text="Volume"/>
                                    <Input value="{view>/billingDocData/Volume}" editable="false" width="200px" />
                                </VBox>
                            </HBox>
                        </VBox>
                    </IconTabFilter>

                    <!-- Placeholder tab(s) to match VA03 -->
                    <IconTabFilter text="Item Overview" key="itemOverview"/>
                    <IconTabFilter text="Item Detail" key="itemDetail"/>
                    <IconTabFilter text="Ordering Party" key="orderingParty"/>
                </items>
            </IconTabBar>

            <!-- Item details table (VA03-like columns) -->
            <Panel id="itemsPanel" headerText="All Items" expandable="true" expanded="true" class="sapUiResponsiveMargin">
                <Table id="itemsTable" items="{view>/billingDocItems}" class="sapUiResponsiveMargin" inset="false">
                    <headerToolbar>
                        <Toolbar>
                            <Title text="All Items"/>
                            <ToolbarSpacer/>
                            <!-- small control icons (visual only) -->
                            <Button icon="sap-icon://sort" type="Transparent" />
                            <Button icon="sap-icon://filter" type="Transparent" />
                            <Button icon="sap-icon://group-2" type="Transparent" />
                        </Toolbar>
                    </headerToolbar>

                    <columns>
                        <Column><Text text="SDItem"/></Column>
                        <Column><Text text="Material"/></Column>
                        <Column><Text text="Order Quantity"/></Column>
                        <Column><Text text="Unit"/></Column>
                        <Column><Text text="Item Description"/></Column>
                        <Column><Text text="Customer Material Number"/></Column>
                        <Column><Text text="Batch"/></Column>
                        <Column><Text text="Plant"/></Column>
                        <Column><Text text="Storage Location"/></Column>
                    </columns>

                    <items>
                        <ColumnListItem>
                            <cells>
                                <Text text="{view>BillingDocumentItem}"/>
                                <Text text="{view>Material}"/>
                                <Text text="{view>OrderQuantity}"/>
                                <Text text="{view>OrderUnit}"/>
                                <Text text="{view>Description}"/>
                                <Text text="{view>CustomerMaterialNumber}"/>
                                <Text text="{view>Batch}"/>
                                <Text text="{view>Plant}"/>
                                <Text text="{view>StorageLocation}"/>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </Panel>

        </content>
    </Page>

</mvc:View>
